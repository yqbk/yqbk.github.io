(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a(73)},57:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),i=a.n(c),o=a(16),l=a(13),u=a(42),s=a(17),m=a(30),h="https://api.openweathermap.org/data/2.5/forecast?appid=".concat("2bc56728817d88f15b17efb38cf8c7df");function p(e){if(!e.ok)throw Error(e.statusText);return e}var d="GET_WEATHER_REQUEST",E="GET_WEATHER_REQUEST_SUCCESS",f="GET_WEATHER_REQUEST_FAILURE",y=function(e){return{type:"GET_WEATHER_REQUEST",payload:{city:e}}},w=function(e){return{type:"GET_WEATHER_REQUEST_SUCCESS",payload:{response:e}}},b=function(e){return{type:"GET_WEATHER_REQUEST_FAILURE",payload:{error:e}}},v=function(e){return Math.round(e-273)},S={city:"",currentWeather:{icon:"",temp:0},weatherForecast:{days:[],tempData:[],humidityData:[]},loading:!0,error:null};var g=Object(l.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(m.a)({},e,{city:t.payload.city,loading:!0});case E:var a=t.payload.response,n=a.list[0],r=a.list.map(function(e){return e.dt_txt.slice(5,-8)}),c=a.list.map(function(e){return v(e.main.temp)}),i=a.list.map(function(e){return e.main.humidity}),o={labels:r,series:[Object(s.a)(c)]},l={labels:r,series:[[],Object(s.a)(i)]};return Object(m.a)({},e,{loading:!1,currentWeather:{temp:v(n.main.temp),icon:n.weather[0].id},weatherForecast:{dayLabels:r,tempSeries:o,humiditySeries:l}});case f:return Object(m.a)({},e,{loading:!1,error:t.payload.error});default:return e}}}),j=a(20),T=a(21),O=a(28),W=a(22),_=a(29),R=(a(57),a(78)),A=a(76),C=a(77),I=a(46),N=a(75),U=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(W.a)(t).call(this,e))).onInputChange=function(e){a.setState({city:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),a.props.fetchAPI(a.state.city),a.setState({city:""})},a.state={city:""},a}return Object(_.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAPI("warsaw")}},{key:"render",value:function(){return r.a.createElement(R.a,{bg:"light"},r.a.createElement(R.a.Brand,null,"Weather"),r.a.createElement(A.a,{className:"mr-auto"}),r.a.createElement(C.a,{inline:!0,onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"search"},r.a.createElement(I.a,{type:"text",placeholder:"Type city name",className:"mr-sm-2",value:this.state.city,onChange:this.onInputChange}),r.a.createElement(N.a,{variant:"outline-success",type:"submit"},"Go!"))))}}]),t}(n.Component),x=Object(o.b)(null,function(e){return{fetchAPI:function(t){return e(function(e){return function(t){var a="".concat(h,"&q=").concat(e);return t(y(e)),fetch(a).then(p).then(function(e){return e.json()}).then(function(e){return t(w(e))}).catch(function(e){return t(b(e))})}}(t))}}})(U),F=(a(69),function(e){var t=e.icon,a=e.temp,n=e.city;return r.a.createElement("div",{className:"current-weather-container"},r.a.createElement("h4",null,"Current weather conditions for ",r.a.createElement("p",{className:"city-name"},n)),r.a.createElement("div",{className:"current-weather"},r.a.createElement("i",{className:"wi wi-owm-"+t}),r.a.createElement("div",{className:"current-weather-info"},r.a.createElement("p",null,a+"\xb0C"))))}),k=a(47),G=a.n(k),H=(a(71),function(e){var t=e.data,a=e.title,n={width:"70%",height:"150px",hight:Math.max.apply(Math,Object(s.a)(t.series.flat()))+5,low:Math.min.apply(Math,Object(s.a)(t.series.flat()))-5,axisX:{offset:70,labelInterpolationFnc:function(e,t){return t%8===0?e:null}}};return r.a.createElement("div",null,r.a.createElement("h4",null,a),r.a.createElement(G.a,{data:t,options:n,type:"Line"}))}),M=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentWeatherIcon,a=e.currentWeatherTemp,n=e.city,c=e.tempSeries,i=e.humiditySeries;return r.a.createElement("div",{className:"App"},r.a.createElement(x,null),this.props.loading?r.a.createElement("div",{className:"loader"},r.a.createElement("i",{class:"fas fa-spinner fa-spin fa-5x fa-fw"}),r.a.createElement("span",{className:"loading-text"},"Loading...")):r.a.createElement("div",null,r.a.createElement(F,{icon:t,temp:a,city:n}),r.a.createElement(H,{data:c,title:"Temperature in 5 days"}),r.a.createElement(H,{data:i,title:"Humidity in 5 days"})))}}]),t}(n.Component),Q=Object(o.b)(function(e){return{loading:e.weather.loading,city:e.weather.city,currentWeatherTemp:e.weather.currentWeather.temp,currentWeatherIcon:e.weather.currentWeather.icon,tempSeries:e.weather.weatherForecast.tempSeries,humiditySeries:e.weather.weatherForecast.humiditySeries}},null)(M);a(72),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=Object(l.d)(g,Object(l.a)(u.a));i.a.render(r.a.createElement(o.a,{store:L},r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.00fe5066.chunk.js.map